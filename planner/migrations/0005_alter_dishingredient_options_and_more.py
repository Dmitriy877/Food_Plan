# Generated by Django 5.2.7 on 2025-10-27 18:36

from django.db import migrations, models

import planner.models


def create_ingredients_and_dishes(apps, schema_editor):
    Allergy = apps.get_model('planner', 'Allergy')
    Ingredient = apps.get_model('planner', 'Ingredient')
    Dish = apps.get_model('planner', 'Dish')
    DishIngredient = apps.get_model('planner', 'DishIngredient')

    # Получаем аллергии
    allergies = {allergy.name: allergy for allergy in Allergy.objects.all()}

    # Создаем ингредиенты с калорийностью (ккал на 100г/100мл/шт)
    ingredients_data = [
        # Белки (ккал на 100г)
        ('Куриная грудка', 165, 'g'),
        ('Говядина', 250, 'g'),
        ('Индейка', 189, 'g'),
        ('Лосось', 208, 'g'),
        ('Тунец консервированный', 184, 'g'),
        ('Яйца куриные', 155, 'pcs'),
        ('Тофу', 76, 'g'),
        ('Творог 5%', 121, 'g'),
        ('Греческий йогурт', 59, 'g'),
        ('Сыр фета', 264, 'g'),
        ('Сыр моцарелла', 280, 'g'),
        ('Креветки', 85, 'g'),

        # Овощи (ккал на 100г)
        ('Брокколи', 34, 'g'),
        ('Шпинат', 23, 'g'),
        ('Помидоры', 18, 'g'),
        ('Огурцы', 15, 'g'),
        ('Морковь', 41, 'g'),
        ('Лук репчатый', 40, 'g'),
        ('Чеснок', 149, 'g'),
        ('Авокадо', 160, 'pcs'),
        ('Сладкий перец', 27, 'g'),
        ('Цукини', 17, 'g'),
        ('Баклажаны', 25, 'g'),
        ('Картофель', 77, 'g'),
        ('Цветная капуста', 25, 'g'),
        ('Спаржа', 20, 'g'),
        ('Зеленый горошек', 81, 'g'),

        # Крупы и злаки (ккал на 100г)
        ('Овсяные хлопья', 68, 'g'),
        ('Гречка', 110, 'g'),
        ('Киноа', 120, 'g'),
        ('Бурый рис', 111, 'g'),
        ('Чечевица', 116, 'g'),
        ('Нут', 364, 'g'),
        ('Булгур', 83, 'g'),
        ('Перловая крупа', 123, 'g'),

        # Молочные продукты (ккал на 100г/мл)
        ('Молоко 2.5%', 52, 'ml'),
        ('Сливки 10%', 118, 'ml'),
        ('Сметана 15%', 158, 'g'),
        ('Сыр пармезан', 431, 'g'),

        # Орехи и семена (ккал на 100г)
        ('Миндаль', 579, 'g'),
        ('Грецкие орехи', 654, 'g'),
        ('Семена чиа', 486, 'g'),
        ('Льняное семя', 534, 'g'),
        ('Семена подсолнечника', 584, 'g'),
        ('Кедровые орехи', 673, 'g'),

        # Фрукты и ягоды (ккал на 100г/шт)
        ('Бананы', 89, 'pcs'),
        ('Яблоки', 52, 'pcs'),
        ('Груши', 57, 'pcs'),
        ('Клубника', 32, 'g'),
        ('Черника', 57, 'g'),
        ('Малина', 52, 'g'),
        ('Апельсины', 47, 'pcs'),
        ('Лимон', 29, 'pcs'),
        ('Лайм', 30, 'pcs'),
        ('Виноград', 69, 'g'),

        # Масла и соусы (ккал на 100мл)
        ('Оливковое масло', 884, 'ml'),
        ('Кокосовое масло', 862, 'ml'),
        ('Яблочный уксус', 21, 'ml'),
        ('Соевый соус', 53, 'ml'),
        ('Бальзамический уксус', 88, 'ml'),

        # Специи и травы (ккал на 100г)
        ('Базилик свежий', 23, 'g'),
        ('Петрушка', 36, 'g'),
        ('Укроп', 40, 'g'),
        ('Кинза', 23, 'g'),
        ('Мята', 44, 'g'),
        ('Орегано сушеный', 306, 'g'),
        ('Паприка молотая', 282, 'g'),
        ('Куркума молотая', 354, 'g'),
        ('Корица молотая', 247, 'g'),
        ('Имбирь свежий', 80, 'g'),

        # Прочее
        ('Мед', 304, 'g'),
        ('Кленовый сироп', 260, 'ml'),
        ('Темный шоколад 70%', 598, 'g'),
        ('Кокосовое молоко', 230, 'ml'),
        ('Томатная паста', 82, 'g'),
        ('Горчица дижонская', 66, 'g'),
    ]

    ingredients = {}
    for name, calories, unit in ingredients_data:
        ingredient, created = Ingredient.objects.get_or_create(
            name=name,
            defaults={'calories': calories, 'unit': unit}
        )
        ingredients[name] = ingredient

    # Добавляем аллергены к ингредиентам
    ingredients_mapping = {
        'Рыба и морепродукты': ['Лосось', 'Тунец консервированный', 'Креветки'],
        'Мясо': ['Куриная грудка', 'Говядина', 'Индейка'],
        'Зерновые': ['Овсяные хлопья', 'Гречка', 'Киноа', 'Бурый рис', 'Чечевица', 'Нут', 'Булгур', 'Перловая крупа'],
        'Продукты пчеловодства': ['Мед'],
        'Орехи и бобовые': ['Миндаль', 'Грецкие орехи', 'Кедровые орехи', 'Чечевица', 'Нут'],
        'Молочные продукты': [
            'Молоко 2.5%', 'Сливки 10%', 'Сметана 15%', 'Сыр пармезан',
            'Сыр фета', 'Сыр моцарелла', 'Творог 5%', 'Греческий йогурт'
        ]
    }

    for allergy_name, ingredient_names in ingredients_mapping.items():
        if allergy_name in allergies:
            for ing_name in ingredient_names:
                if ing_name in ingredients:
                    ingredients[ing_name].allergens.add(allergies[allergy_name])

    # Создаем блюда для всех типов диет и приемов пищи
    dishes_data = [
        # КЛАССИЧЕСКОЕ МЕНЮ - ЗАВТРАКИ (5 блюд)
        {
            'name': 'Овсяная каша с ягодами',
            'description': 'Питательная овсяная каша со свежими ягодами и медом',
            'recipe': '1. Овсяные хлопья залить молоком и варить 5-7 минут. 2. Добавить ягоды и мед. 3. Подавать горячим.',
            'diet_type': 'classic',
            'category': 'breakfast',
            'cooking_time': 10,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Овсяные хлопья', 150),
                ('Молоко 2.5%', 300),
                ('Клубника', 100),
                ('Мед', 20),
                ('Грецкие орехи', 30),
            ]
        },
        {
            'name': 'Яичница с овощами',
            'description': 'Вкусная яичница со свежими овощами и зеленью',
            'recipe': '1. Обжарить лук и перец. 2. Добавить помидоры. 3. Влить яйца и готовить 5 минут. 4. Посыпать зеленью.',
            'diet_type': 'classic',
            'category': 'breakfast',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Яйца куриные', 4),
                ('Помидоры', 2),
                ('Сладкий перец', 1),
                ('Лук репчатый', 0.5),
                ('Оливковое масло', 10),
                ('Петрушка', 10),
            ]
        },
        {
            'name': 'Творожная запеканка',
            'description': 'Нежная творожная запеканка с изюмом',
            'recipe': '1. Смешать творог с яйцами и манкой. 2. Добавить изюм. 3. Запекать 30 минут при 180°C.',
            'diet_type': 'classic',
            'category': 'breakfast',
            'cooking_time': 40,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Творог 5%', 500),
                ('Яйца куриные', 3),
                ('Молоко 2.5%', 100),
                ('Мед', 30),
                ('Ванилин', 1),
            ]
        },
        {
            'name': 'Гренки с сыром',
            'description': 'Хрустящие гренки с расплавленным сыром',
            'recipe': '1. Хлеб обжарить с двух сторон. 2. Посыпать сыром и запекать 5 минут. 3. Подавать с зеленью.',
            'diet_type': 'classic',
            'category': 'breakfast',
            'cooking_time': 10,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Хлеб цельнозерновой', 4),
                ('Сыр моцарелла', 100),
                ('Оливковое масло', 15),
                ('Чеснок', 2),
                ('Петрушка', 10),
            ]
        },
        {
            'name': 'Гречневая каша с молоком',
            'description': 'Традиционная гречневая каша с молоком',
            'recipe': '1. Сварить гречку. 2. Залить горячим молоком. 3. Добавить масло и подавать.',
            'diet_type': 'classic',
            'category': 'breakfast',
            'cooking_time': 20,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Гречка', 200),
                ('Молоко 2.5%', 400),
                ('Сливочное масло', 20),
                ('Мед', 20),
            ]
        },
        # КЛАССИЧЕСКОЕ МЕНЮ - ОБЕДЫ (5 блюд)
        {
            'name': 'Куриный суп с лапшой',
            'description': 'Ароматный куриный суп с домашней лапшой',
            'recipe': '1. Сварить куриный бульон. 2. Добавить овощи и лапшу. 3. Варить до готовности. 4. Посыпать зеленью.',
            'diet_type': 'classic',
            'category': 'lunch',
            'cooking_time': 45,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Куриная грудка', 400),
                ('Лук репчатый', 1),
                ('Морковь', 2),
                ('Лапша яичная', 200),
                ('Петрушка', 20),
                ('Соль', 5),
            ]
        },
        {
            'name': 'Говядина по-бургундски',
            'description': 'Нежная говядина, тушенная в красном вине',
            'recipe': '1. Обжарить говядину. 2. Добавить овощи и вино. 3. Тушить 2 часа на медленном огне.',
            'diet_type': 'classic',
            'category': 'lunch',
            'cooking_time': 150,
            'difficulty': 'hard',
            'portions': 4,
            'ingredients': [
                ('Говядина', 600),
                ('Лук репчатый', 2),
                ('Морковь', 3),
                ('Чеснок', 4),
                ('Красное вино', 300),
                ('Тимьян свежий', 10),
            ]
        },
        {
            'name': 'Рыбные котлеты с картофелем',
            'description': 'Нежные рыбные котлеты с пюре',
            'recipe': '1. Приготовить фарш из рыбы. 2. Сформировать котлеты. 3. Обжарить. 4. Подавать с картофельным пюре.',
            'diet_type': 'classic',
            'category': 'lunch',
            'cooking_time': 40,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Лосось', 500),
                ('Картофель', 800),
                ('Лук репчатый', 1),
                ('Яйца куриные', 1),
                ('Молоко 2.5%', 100),
                ('Укроп', 15),
            ]
        },
        {
            'name': 'Плов с бараниной',
            'description': 'Ароматный плов с нежной бараниной',
            'recipe': '1. Обжарить мясо с луком и морковью. 2. Добавить рис и специи. 3. Тушить до готовности.',
            'diet_type': 'classic',
            'category': 'lunch',
            'cooking_time': 90,
            'difficulty': 'hard',
            'portions': 6,
            'ingredients': [
                ('Баранина', 800),
                ('Рис', 400),
                ('Морковь', 3),
                ('Лук репчатый', 2),
                ('Чеснок', 1),
                ('Зира', 5),
            ]
        },
        {
            'name': 'Куриные грудки в сливочном соусе',
            'description': 'Нежные куриные грудки в сливочном соусе с грибами',
            'recipe': '1. Обжарить курицу. 2. Добавить грибы и сливки. 3. Тушить 15 минут. 4. Подавать с рисом.',
            'diet_type': 'classic',
            'category': 'lunch',
            'cooking_time': 35,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Куриная грудка', 600),
                ('Шампиньоны', 300),
                ('Сливки 10%', 200),
                ('Лук репчатый', 1),
                ('Чеснок', 2),
                ('Укроп', 10),
            ]
        },
        # КЛАССИЧЕСКОЕ МЕНЮ - УЖИНЫ (5 блюд)
        {
            'name': 'Запеченный лосось с овощами',
            'description': 'Лосось, запеченный с сезонными овощами',
            'recipe': '1. Овощи нарезать. 2. Выложить на противень с рыбой. 3. Запекать 25 минут при 200°C.',
            'diet_type': 'classic',
            'category': 'dinner',
            'cooking_time': 35,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Лосось', 400),
                ('Цукини', 2),
                ('Сладкий перец', 2),
                ('Помидоры', 2),
                ('Оливковое масло', 20),
                ('Лимон', 0.5),
            ]
        },
        {
            'name': 'Куриные крылышки в медовом соусе',
            'description': 'Хрустящие куриные крылышки в сладком соусе',
            'recipe': '1. Обжарить крылышки. 2. Приготовить соус. 3. Запекать 20 минут в соусе.',
            'diet_type': 'classic',
            'category': 'dinner',
            'cooking_time': 45,
            'difficulty': 'medium',
            'portions': 3,
            'ingredients': [
                ('Куриные крылышки', 600),
                ('Мед', 50),
                ('Соевый соус', 30),
                ('Чеснок', 3),
                ('Имбирь свежий', 20),
            ]
        },
        {
            'name': 'Овощное рагу',
            'description': 'Ароматное рагу из сезонных овощей',
            'recipe': '1. Обжарить лук и морковь. 2. Добавить остальные овощи. 3. Тушить 25 минут.',
            'diet_type': 'classic',
            'category': 'dinner',
            'cooking_time': 40,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Картофель', 400),
                ('Морковь', 2),
                ('Цукини', 1),
                ('Помидоры', 3),
                ('Лук репчатый', 1),
                ('Петрушка', 15),
            ]
        },
        {
            'name': 'Фаршированные перцы',
            'description': 'Сладкие перцы, фаршированные мясом и рисом',
            'recipe': '1. Приготовить фарш. 2. Нафаршировать перцы. 3. Тушить 40 минут в томатном соусе.',
            'diet_type': 'classic',
            'category': 'dinner',
            'cooking_time': 60,
            'difficulty': 'medium',
            'portions': 6,
            'ingredients': [
                ('Сладкий перец', 6),
                ('Говяжий фарш', 500),
                ('Рис', 150),
                ('Лук репчатый', 1),
                ('Томатная паста', 50),
                ('Сметана 15%', 100),
            ]
        },
        {
            'name': 'Картофель по-деревенски',
            'description': 'Ароматный картофель с травами',
            'recipe': '1. Картофель нарезать. 2. Смешать с маслом и травами. 3. Запекать 40 минут при 200°C.',
            'diet_type': 'classic',
            'category': 'dinner',
            'cooking_time': 50,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Картофель', 1000),
                ('Оливковое масло', 40),
                ('Чеснок', 4),
                ('Розмарин свежий', 10),
                ('Паприка молотая', 5),
            ]
        },
        # КЛАССИЧЕСКОЕ МЕНЮ - ДЕСЕРТЫ (5 блюд)
        {
            'name': 'Яблочный пирог',
            'description': 'Нежный яблочный пирог с корицей',
            'recipe': '1. Приготовить тесто. 2. Выложить яблоки. 3. Запекать 40 минут при 180°C.',
            'diet_type': 'classic',
            'category': 'dessert',
            'cooking_time': 60,
            'difficulty': 'medium',
            'portions': 8,
            'ingredients': [
                ('Яблоки', 6),
                ('Мука пшеничная', 300),
                ('Сливочное масло', 200),
                ('Яйца куриные', 3),
                ('Сахар', 150),
                ('Корица молотая', 10),
            ]
        },
        {
            'name': 'Шоколадный мусс',
            'description': 'Воздушный шоколадный мусс',
            'recipe': '1. Растопить шоколад. 2. Взбить сливки. 3. Смешать и охладить 4 часа.',
            'diet_type': 'classic',
            'category': 'dessert',
            'cooking_time': 20,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Темный шоколад 70%', 200),
                ('Сливки 10%', 300),
                ('Яйца куриные', 3),
                ('Мед', 50),
                ('Ванилин', 2),
            ]
        },
        {
            'name': 'Чизкейк Нью-Йорк',
            'description': 'Классический нью-йоркский чизкейк',
            'recipe': '1. Приготовить основу. 2. Смешать начинку. 3. Запекать 1 час при 160°C.',
            'diet_type': 'classic',
            'category': 'dessert',
            'cooking_time': 90,
            'difficulty': 'hard',
            'portions': 10,
            'ingredients': [
                ('Сыр сливочный', 600),
                ('Печенье песочное', 300),
                ('Сливки 10%', 200),
                ('Яйца куриные', 4),
                ('Сахар', 200),
                ('Лимон', 1),
            ]
        },
        {
            'name': 'Фруктовый салат',
            'description': 'Свежий фруктовый салат с медовой заправкой',
            'recipe': '1. Нарезать фрукты. 2. Смешать с заправкой. 3. Охладить 30 минут.',
            'diet_type': 'classic',
            'category': 'dessert',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Яблоки', 2),
                ('Бананы', 2),
                ('Апельсины', 2),
                ('Клубника', 150),
                ('Мед', 40),
                ('Лимонный сок', 20),
            ]
        },
        {
            'name': 'Тирамису',
            'description': 'Итальянский десерт с кофе и маскарпоне',
            'recipe': '1. Приготовить крем. 2. Пропитать печенье кофе. 3. Собрать десерт и охладить 6 часов.',
            'diet_type': 'classic',
            'category': 'dessert',
            'cooking_time': 40,
            'difficulty': 'hard',
            'portions': 8,
            'ingredients': [
                ('Сыр маскарпоне', 500),
                ('Печенье савоярди', 300),
                ('Кофе эспрессо', 200),
                ('Яйца куриные', 4),
                ('Сахар', 120),
                ('Какао-порошок', 30),
            ]
        },

        # НИЗКОУГЛЕВОДНОЕ МЕНЮ - ЗАВТРАКИ (5 блюд)
        {
            'name': 'Омлет с сыром и шпинатом',
            'description': 'Белковый омлет со шпинатом и сыром',
            'recipe': '1. Взбить яйца. 2. Добавить шпинат и сыр. 3. Готовить на сковороде 7-8 минут.',
            'diet_type': 'low_carb',
            'category': 'breakfast',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Яйца куриные', 4),
                ('Шпинат', 100),
                ('Сыр фета', 80),
                ('Оливковое масло', 10),
                ('Соль', 2),
            ]
        },
        {
            'name': 'Авокадо с яйцом пашот',
            'description': 'Половинки авокадо с яйцом пашот',
            'recipe': '1. Разрезать авокадо. 2. Приготовить яйцо пашот. 3. Выложить в авокадо. 4. Посыпать специями.',
            'diet_type': 'low_carb',
            'category': 'breakfast',
            'cooking_time': 10,
            'difficulty': 'medium',
            'portions': 2,
            'ingredients': [
                ('Авокадо', 2),
                ('Яйца куриные', 2),
                ('Лимонный сок', 10),
                ('Паприка молотая', 3),
                ('Соль', 2),
            ]
        },
        {
            'name': 'Творог с орехами',
            'description': 'Творог с грецкими орехами и корицей',
            'recipe': '1. Смешать творог с орехами. 2. Добавить корицу. 3. Подавать охлажденным.',
            'diet_type': 'low_carb',
            'category': 'breakfast',
            'cooking_time': 5,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Творог 5%', 400),
                ('Грецкие орехи', 50),
                ('Корица молотая', 5),
                ('Ванилин', 1),
            ]
        },
        {
            'name': 'Смузи из шпината и авокадо',
            'description': 'Зеленый смузи с авокадо и шпинатом',
            'recipe': '1. Смешать все ингредиенты в блендере. 2. Взбить до однородности. 3. Подавать сразу.',
            'diet_type': 'low_carb',
            'category': 'breakfast',
            'cooking_time': 5,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Шпинат', 100),
                ('Авокадо', 1),
                ('Греческий йогурт', 200),
                ('Лимонный сок', 15),
                ('Мята', 10),
            ]
        },
        {
            'name': 'Яичные маффины',
            'description': 'Белковые маффины с овощами и сыром',
            'recipe': '1. Смешать яйца с овощами. 2. Разлить по формам. 3. Запекать 20 минут при 180°C.',
            'diet_type': 'low_carb',
            'category': 'breakfast',
            'cooking_time': 30,
            'difficulty': 'easy',
            'portions': 6,
            'ingredients': [
                ('Яйца куриные', 6),
                ('Шпинат', 100),
                ('Сладкий перец', 1),
                ('Сыр моцарелла', 100),
                ('Оливковое масло', 10),
            ]
        },
        # НИЗКОУГЛЕВОДНОЕ МЕНЮ - ОБЕДЫ (5 блюд)
        {
            'name': 'Куриные грудки в сырной корочке',
            'description': 'Нежные куриные грудки в хрустящей сырной корочке',
            'recipe': '1. Куриные грудки обвалять в смеси сыра и специй. 2. Запекать 25 минут при 200°C. 3. Подавать с салатом.',
            'diet_type': 'low_carb',
            'category': 'lunch',
            'cooking_time': 35,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Куриная грудка', 600),
                ('Сыр пармезан', 100),
                ('Яйца куриные', 2),
                ('Чеснок', 3),
                ('Паприка молотая', 5),
                ('Оливковое масло', 15),
            ]
        },
        {
            'name': 'Лосось на пару с брокколи',
            'description': 'Нежный лосось, приготовленный на пару с брокколи',
            'recipe': '1. Лосось и брокколи готовить на пару 12-15 минут. 2. Полить лимонным соком. 3. Посыпать укропом.',
            'diet_type': 'low_carb',
            'category': 'lunch',
            'cooking_time': 20,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Лосось', 400),
                ('Брокколи', 300),
                ('Лимон', 1),
                ('Укроп', 15),
                ('Оливковое масло', 10),
            ]
        },
        {
            'name': 'Говяжьи котлеты с цветной капустой',
            'description': 'Сочные говяжьи котлеты с пюре из цветной капусты',
            'recipe': '1. Приготовить фарш и сформировать котлеты. 2. Обжарить. 3. Цветную капусту приготовить на пару и пюрировать.',
            'diet_type': 'low_carb',
            'category': 'lunch',
            'cooking_time': 30,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Говядина', 500),
                ('Цветная капуста', 600),
                ('Лук репчатый', 1),
                ('Яйца куриные', 1),
                ('Сливки 10%', 100),
                ('Чеснок', 2),
            ]
        },
        {
            'name': 'Салат с тунцом и авокадо',
            'description': 'Сытный салат с консервированным тунцом и авокадо',
            'recipe': '1. Смешать тунец с авокадо. 2. Добавить овощи. 3. Заправить оливковым маслом.',
            'diet_type': 'low_carb',
            'category': 'lunch',
            'cooking_time': 10,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Тунец консервированный', 200),
                ('Авокадо', 1),
                ('Помидоры', 2),
                ('Огурцы', 1),
                ('Лук репчатый', 0.5),
                ('Оливковое масло', 20),
            ]
        },
        {
            'name': 'Индейка с овощами-гриль',
            'description': 'Филе индейки с ассорти из овощей-гриль',
            'recipe': '1. Индейку и овощи замариновать. 2. Готовить на гриле 15-20 минут. 3. Подавать с зеленью.',
            'diet_type': 'low_carb',
            'category': 'lunch',
            'cooking_time': 30,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Индейка', 500),
                ('Сладкий перец', 2),
                ('Цукини', 2),
                ('Баклажаны', 1),
                ('Оливковое масло', 30),
                ('Петрушка', 20),
            ]
        },
        # НИЗКОУГЛЕВОДНОЕ МЕНЮ - УЖИНЫ (5 блюд)
        {
            'name': 'Запеченная рыба с шпинатом',
            'description': 'Рыба, запеченная со шпинатом и сыром',
            'recipe': '1. Рыбу выложить на шпинат. 2. Посыпать сыром. 3. Запекать 20 минут при 180°C.',
            'diet_type': 'low_carb',
            'category': 'dinner',
            'cooking_time': 30,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Лосось', 400),
                ('Шпинат', 200),
                ('Сыр фета', 100),
                ('Чеснок', 2),
                ('Лимон', 0.5),
                ('Оливковое масло', 15),
            ]
        },
        {
            'name': 'Куриные бедра в сливочном соусе',
            'description': 'Нежные куриные бедра в сливочно-чесночном соусе',
            'recipe': '1. Обжарить курицу. 2. Добавить сливки и чеснок. 3. Тушить 15 минут.',
            'diet_type': 'low_carb',
            'category': 'dinner',
            'cooking_time': 25,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Куриные бедра', 600),
                ('Сливки 10%', 200),
                ('Чеснок', 4),
                ('Лук репчатый', 1),
                ('Петрушка', 15),
                ('Оливковое масло', 20),
            ]
        },
        {
            'name': 'Говядина стир-фрай',
            'description': 'Обжаренная говядина с овощами в воке',
            'recipe': '1. Быстро обжарить говядину. 2. Добавить овощи. 3. Готовить 5-7 минут.',
            'diet_type': 'low_carb',
            'category': 'dinner',
            'cooking_time': 20,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Говядина', 500),
                ('Сладкий перец', 2),
                ('Брокколи', 200),
                ('Морковь', 1),
                ('Соевый соус', 30),
                ('Имбирь свежий', 20),
            ]
        },
        {
            'name': 'Фаршированные шампиньоны',
            'description': 'Шампиньоны, фаршированные сыром и зеленью',
            'recipe': '1. Удалить ножки грибов. 2. Нафаршировать сырной смесью. 3. Запекать 15 минут при 200°C.',
            'diet_type': 'low_carb',
            'category': 'dinner',
            'cooking_time': 25,
            'difficulty': 'easy',
            'portions': 3,
            'ingredients': [
                ('Шампиньоны', 400),
                ('Сыр моцарелла', 150),
                ('Чеснок', 3),
                ('Петрушка', 15),
                ('Оливковое масло', 15),
            ]
        },
        {
            'name': 'Креветки с чесноком',
            'description': 'Креветки, обжаренные с чесноком и травами',
            'recipe': '1. Обжарить чеснок. 2. Добавить креветки. 3. Готовить 5-7 минут. 4. Посыпать петрушкой.',
            'diet_type': 'low_carb',
            'category': 'dinner',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Креветки', 400),
                ('Чеснок', 5),
                ('Оливковое масло', 20),
                ('Лимон', 1),
                ('Петрушка', 20),
                ('Перец чили', 1),
            ]
        },
        # НИЗКОУГЛЕВОДНОЕ МЕНЮ - ДЕСЕРТЫ (5 блюд)
        {
            'name': 'Шоколадный мусс с авокадо',
            'description': 'Низкоуглеводный шоколадный мусс на основе авокадо',
            'recipe': '1. Смешать авокадо с какао. 2. Добавить подсластитель. 3. Взбить в блендере. 4. Охладить.',
            'diet_type': 'low_carb',
            'category': 'dessert',
            'cooking_time': 10,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Авокадо', 2),
                ('Какао-порошок', 50),
                ('Кокосовое молоко', 100),
                ('Мед', 30),
                ('Ванилин', 2),
            ]
        },
        {
            'name': 'Сырники без муки',
            'description': 'Нежные сырники с миндальной мукой',
            'recipe': '1. Смешать творог с яйцами и мукой. 2. Сформировать сырники. 3. Обжарить на кокосовом масле.',
            'diet_type': 'low_carb',
            'category': 'dessert',
            'cooking_time': 20,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Творог 5%', 500),
                ('Яйца куриные', 2),
                ('Миндальная мука', 50),
                ('Кокосовое масло', 30),
                ('Ванилин', 2),
            ]
        },
        {
            'name': 'Желе из ягод',
            'description': 'Легкое ягодное желе без сахара',
            'recipe': '1. Ягоды пюрировать. 2. Добавить желатин. 3. Разлить по формам и охладить 4 часа.',
            'diet_type': 'low_carb',
            'category': 'dessert',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Клубника', 200),
                ('Малина', 200),
                ('Желатин', 20),
                ('Лимонный сок', 15),
                ('Мед', 20),
            ]
        },
        {
            'name': 'Кокосовые шарики',
            'description': 'Энергетические шарики из кокоса и орехов',
            'recipe': '1. Смешать ингредиенты. 2. Сформировать шарики. 3. Обвалять в кокосовой стружке.',
            'diet_type': 'low_carb',
            'category': 'dessert',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 8,
            'ingredients': [
                ('Кокосовая стружка', 150),
                ('Миндаль', 100),
                ('Кокосовое масло', 50),
                ('Мед', 40),
                ('Ванилин', 2),
            ]
        },
        {
            'name': 'Запеченные яблоки с орехами',
            'description': 'Яблоки, запеченные с орехами и корицей',
            'recipe': '1. Яблоки нафаршировать орехами. 2. Посыпать корицей. 3. Запекать 25 минут при 180°C.',
            'diet_type': 'low_carb',
            'category': 'dessert',
            'cooking_time': 35,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Яблоки', 4),
                ('Грецкие орехи', 80),
                ('Корица молотая', 10),
                ('Мед', 30),
                ('Сливочное масло', 20),
            ]
        },

        # ВЕГЕТАРИАНСКОЕ МЕНЮ - ЗАВТРАКИ (5 блюд)
        {
            'name': 'Тофу скрембл',
            'description': 'Вегетарианский скрембл из тофу с куркумой',
            'recipe': '1. Размять тофу. 2. Обжарить с куркумой и специями. 3. Подавать с тостами.',
            'diet_type': 'vegetarian',
            'category': 'breakfast',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Тофу', 400),
                ('Куркума молотая', 5),
                ('Оливковое масло', 15),
                ('Чеснок', 2),
                ('Петрушка', 10),
                ('Соль', 3),
            ]
        },
        {
            'name': 'Овсянка на кокосовом молоке',
            'description': 'Овсяная каша на кокосовом молоке с ягодами',
            'recipe': '1. Сварить овсянку на кокосовом молоке. 2. Добавить ягоды. 3. Подавать с орехами.',
            'diet_type': 'vegetarian',
            'category': 'breakfast',
            'cooking_time': 10,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Овсяные хлопья', 120),
                ('Кокосовое молоко', 400),
                ('Черника', 100),
                ('Миндаль', 30),
                ('Кленовый сироп', 20),
            ]
        },
        {
            'name': 'Гранола домашняя',
            'description': 'Хрустящая гранола с орехами и семенами',
            'recipe': '1. Смешать ингредиенты. 2. Запекать 30 минут при 150°C. 3. Охладить и хранить в банке.',
            'diet_type': 'vegetarian',
            'category': 'breakfast',
            'cooking_time': 40,
            'difficulty': 'easy',
            'portions': 8,
            'ingredients': [
                ('Овсяные хлопья', 300),
                ('Миндаль', 100),
                ('Грецкие орехи', 100),
                ('Семена подсолнечника', 50),
                ('Кленовый сироп', 80),
                ('Корица молотая', 5),
            ]
        },
        {
            'name': 'Чиа пудинг',
            'description': 'Питательный пудинг из семян чиа',
            'recipe': '1. Смешать семена чиа с молоком. 2. Оставить на ночь в холодильнике. 3. Подавать с фруктами.',
            'diet_type': 'vegetarian',
            'category': 'breakfast',
            'cooking_time': 5,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Семена чиа', 80),
                ('Молоко 2.5%', 400),
                ('Мед', 30),
                ('Ванилин', 2),
                ('Клубника', 100),
            ]
        },
        {
            'name': 'Фриттата с овощами',
            'description': 'Итальянский омлет с овощами',
            'recipe': '1. Обжарить овощи. 2. Залить яйцами. 3. Запекать 20 минут при 180°C.',
            'diet_type': 'vegetarian',
            'category': 'breakfast',
            'cooking_time': 30,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Яйца куриные', 6),
                ('Цукини', 1),
                ('Помидоры', 2),
                ('Шпинат', 100),
                ('Сыр фета', 100),
                ('Оливковое масло', 20),
            ]
        },
        # ВЕГЕТАРИАНСКОЕ МЕНЮ - ОБЕДЫ (5 блюд)
        {
            'name': 'Овощной суп-пюре',
            'description': 'Нежный крем-суп из сезонных овощей',
            'recipe': '1. Овощи отварить. 2. Пюрировать блендером. 3. Добавить сливки и подавать с гренками.',
            'diet_type': 'vegetarian',
            'category': 'lunch',
            'cooking_time': 35,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Картофель', 400),
                ('Морковь', 2),
                ('Цветная капуста', 300),
                ('Сливки 10%', 200),
                ('Лук репчатый', 1),
                ('Петрушка', 15),
            ]
        },
        {
            'name': 'Чечевичный суп',
            'description': 'Сытный суп из красной чечевицы',
            'recipe': '1. Обжарить лук и морковь. 2. Добавить чечевицу и овощи. 3. Варить 25 минут.',
            'diet_type': 'vegetarian',
            'category': 'lunch',
            'cooking_time': 40,
            'difficulty': 'easy',
            'portions': 6,
            'ingredients': [
                ('Чечевица', 300),
                ('Морковь', 2),
                ('Лук репчатый', 1),
                ('Картофель', 300),
                ('Помидоры', 2),
                ('Петрушка', 20),
            ]
        },
        {
            'name': 'Овощная лазанья',
            'description': 'Лазанья с овощами и сыром',
            'recipe': '1. Приготовить овощную начинку. 2. Собрать лазанью слоями. 3. Запекать 40 минут при 180°C.',
            'diet_type': 'vegetarian',
            'category': 'lunch',
            'cooking_time': 60,
            'difficulty': 'medium',
            'portions': 8,
            'ingredients': [
                ('Листы для лазаньи', 250),
                ('Цукини', 2),
                ('Баклажаны', 2),
                ('Помидоры', 4),
                ('Сыр моцарелла', 300),
                ('Базилик свежий', 20),
            ]
        },
        {
            'name': 'Нут с овощами',
            'description': 'Нут, тушеный с овощами и специями',
            'recipe': '1. Обжарить овощи. 2. Добавить нут и специи. 3. Тушить 20 минут.',
            'diet_type': 'vegetarian',
            'category': 'lunch',
            'cooking_time': 35,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Нут', 400),
                ('Помидоры', 3),
                ('Лук репчатый', 1),
                ('Чеснок', 3),
                ('Куркума молотая', 5),
                ('Кинза', 15),
            ]
        },
        {
            'name': 'Грибной ризотто',
            'description': 'Кремовый ризотто с лесными грибами',
            'recipe': '1. Обжарить грибы. 2. Постепенно добавлять рис и бульон. 3. Варить до кремообразной консистенции.',
            'diet_type': 'vegetarian',
            'category': 'lunch',
            'cooking_time': 45,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Рис арборио', 300),
                ('Шампиньоны', 400),
                ('Лук репчатый', 1),
                ('Сыр пармезан', 100),
                ('Белый вино', 100),
                ('Петрушка', 15),
            ]
        },
        # ВЕГЕТАРИАНСКОЕ МЕНЮ - УЖИНЫ (5 блюд)
        {
            'name': 'Овощные котлеты из нута',
            'description': 'Питательные котлеты из нута и овощей',
            'recipe': '1. Нут пюрировать. 2. Смешать с овощами. 3. Сформировать котлеты и обжарить.',
            'diet_type': 'vegetarian',
            'category': 'dinner',
            'cooking_time': 30,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Нут', 400),
                ('Морковь', 2),
                ('Лук репчатый', 1),
                ('Чеснок', 3),
                ('Мука нутовая', 50),
                ('Кинза', 20),
            ]
        },
        {
            'name': 'Запеченные баклажаны с сыром',
            'description': 'Баклажаны, запеченные с томатами и сыром',
            'recipe': '1. Баклажаны нарезать и запечь. 2. Выложить томаты и сыр. 3. Запекать еще 15 минут.',
            'diet_type': 'vegetarian',
            'category': 'dinner',
            'cooking_time': 40,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Баклажаны', 2),
                ('Помидоры', 3),
                ('Сыр фета', 200),
                ('Чеснок', 3),
                ('Оливковое масло', 30),
                ('Базилик свежий', 15),
            ]
        },
        {
            'name': 'Тыквенный суп-пюре',
            'description': 'Нежный суп-пюре из тыквы с имбирем',
            'recipe': '1. Тыкву и овощи отварить. 2. Пюрировать с имбирем. 3. Добавить кокосовое молоко.',
            'diet_type': 'vegetarian',
            'category': 'dinner',
            'cooking_time': 35,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Тыква', 800),
                ('Морковь', 1),
                ('Лук репчатый', 1),
                ('Имбирь свежий', 30),
                ('Кокосовое молоко', 200),
                ('Куркума молотая', 5),
            ]
        },
        {
            'name': 'Овощное карри',
            'description': 'Ароматное овощное карри с кокосовым молоком',
            'recipe': '1. Обжарить специи. 2. Добавить овощи. 3. Залить кокосовым молоком и тушить 20 минут.',
            'diet_type': 'vegetarian',
            'category': 'dinner',
            'cooking_time': 35,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Картофель', 400),
                ('Цветная капуста', 300),
                ('Морковь', 2),
                ('Кокосовое молоко', 400),
                ('Карри паста', 50),
                ('Лайм', 1),
            ]
        },
        {
            'name': 'Спагетти из цукини',
            'description': 'Овощные спагетти с томатным соусом',
            'recipe': '1. Цукини нарезать спирализатором. 2. Приготовить томатный соус. 3. Смешать и подавать.',
            'diet_type': 'vegetarian',
            'category': 'dinner',
            'cooking_time': 25,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Цукини', 3),
                ('Помидоры', 4),
                ('Чеснок', 3),
                ('Базилик свежий', 20),
                ('Оливковое масло', 20),
                ('Сыр пармезан', 50),
            ]
        },
        # ВЕГЕТАРИАНСКОЕ МЕНЮ - ДЕСЕРТЫ (5 блюд)
        {
            'name': 'Морковный торт',
            'description': 'Влажный морковный торт с грецкими орехами',
            'recipe': '1. Смешать ингредиенты. 2. Выпекать 45 минут при 180°C. 3. Охладить и подавать.',
            'diet_type': 'vegetarian',
            'category': 'dessert',
            'cooking_time': 60,
            'difficulty': 'medium',
            'portions': 8,
            'ingredients': [
                ('Морковь', 400),
                ('Мука пшеничная', 300),
                ('Грецкие орехи', 150),
                ('Яйца куриные', 3),
                ('Растительное масло', 150),
                ('Корица молотая', 10),
            ]
        },
        {
            'name': 'Ягодный крамбл',
            'description': 'Фруктовый крамбл с овсяной крошкой',
            'recipe': '1. Ягоды выложить в форму. 2. Приготовить крошку. 3. Запекать 30 минут при 180°C.',
            'diet_type': 'vegetarian',
            'category': 'dessert',
            'cooking_time': 45,
            'difficulty': 'easy',
            'portions': 6,
            'ingredients': [
                ('Клубника', 300),
                ('Малина', 200),
                ('Черника', 200),
                ('Овсяные хлопья', 150),
                ('Миндаль', 100),
                ('Кленовый сироп', 80),
            ]
        },
        {
            'name': 'Шоколадный фондан',
            'description': 'Шоколадный кекс с жидкой сердцевиной',
            'recipe': '1. Растопить шоколад с маслом. 2. Смешать с яйцами и мукой. 3. Выпекать 12 минут при 200°C.',
            'diet_type': 'vegetarian',
            'category': 'dessert',
            'cooking_time': 25,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Темный шоколад 70%', 200),
                ('Сливочное масло', 100),
                ('Яйца куриные', 3),
                ('Мука пшеничная', 50),
                ('Сахар', 80),
            ]
        },
        {
            'name': 'Творожное суфле',
            'description': 'Воздушное творожное суфле с ягодами',
            'recipe': '1. Взбить творог с яйцами. 2. Добавить манку. 3. Запекать 30 минут при 180°C.',
            'diet_type': 'vegetarian',
            'category': 'dessert',
            'cooking_time': 45,
            'difficulty': 'medium',
            'portions': 6,
            'ingredients': [
                ('Творог 5%', 600),
                ('Яйца куриные', 4),
                ('Манная крупа', 80),
                ('Мед', 100),
                ('Ванилин', 3),
                ('Клубника', 200),
            ]
        },
        {
            'name': 'Фруктовое мороженое',
            'description': 'Натуральное мороженое из бананов и ягод',
            'recipe': '1. Бананы и ягоды заморозить. 2. Взбить в блендере. 3. Разложить по формам и заморозить.',
            'diet_type': 'vegetarian',
            'category': 'dessert',
            'cooking_time': 10,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Бананы', 3),
                ('Клубника', 300),
                ('Мед', 50),
                ('Ванилин', 2),
                ('Лимонный сок', 15),
            ]
        },

        # КЕТО МЕНЮ - ЗАВТРАКИ (5 блюд)
        {
            'name': 'Яичница с беконом и авокадо',
            'description': 'Богатая белком яичница с беконом и авокадо',
            'recipe': '1. Обжарить бекон. 2. Приготовить яичницу. 3. Подавать с ломтиками авокадо.',
            'diet_type': 'keto',
            'category': 'breakfast',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Яйца куриные', 4),
                ('Бекон', 150),
                ('Авокадо', 1),
                ('Оливковое масло', 10),
                ('Соль', 2),
            ]
        },
        {
            'name': 'Кето-оладьи из миндальной муки',
            'description': 'Низкоуглеводные оладьи из миндальной муки',
            'recipe': '1. Смешать ингредиенты. 2. Жарить на кокосовом масле. 3. Подавать со сливочным сыром.',
            'diet_type': 'keto',
            'category': 'breakfast',
            'cooking_time': 20,
            'difficulty': 'medium',
            'portions': 3,
            'ingredients': [
                ('Миндальная мука', 150),
                ('Яйца куриные', 3),
                ('Сливки 10%', 100),
                ('Кокосовое масло', 20),
                ('Разрыхлитель', 5),
            ]
        },
        {
            'name': 'Сырные шарики',
            'description': 'Хрустящие сырные шарики',
            'recipe': '1. Смешать сыры. 2. Сформировать шарики. 3. Запекать 15 минут при 200°C.',
            'diet_type': 'keto',
            'category': 'breakfast',
            'cooking_time': 25,
            'difficulty': 'easy',
            'portions': 4,
            'ingredients': [
                ('Сыр моцарелла', 200),
                ('Сыр пармезан', 100),
                ('Яйца куриные', 1),
                ('Миндальная мука', 50),
                ('Паприка молотая', 5),
            ]
        },
        {
            'name': 'Кето-смузи с авокадо',
            'description': 'Сытный смузи с авокадо и ореховым молоком',
            'recipe': '1. Смешать все в блендере. 2. Взбить до кремообразной консистенции. 3. Подавать охлажденным.',
            'diet_type': 'keto',
            'category': 'breakfast',
            'cooking_time': 5,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Авокадо', 1),
                ('Миндальное молоко', 300),
                ('Семена чиа', 20),
                ('Миндаль', 30),
                ('Ванилин', 2),
            ]
        },
        {
            'name': 'Яичные кексы с колбасой',
            'description': 'Белковые кексы с колбасой и сыром',
            'recipe': '1. Смешать яйца с начинкой. 2. Разлить по формам. 3. Запекать 25 минут при 180°C.',
            'diet_type': 'keto',
            'category': 'breakfast',
            'cooking_time': 35,
            'difficulty': 'easy',
            'portions': 6,
            'ingredients': [
                ('Яйца куриные', 6),
                ('Колбаса сырокопченая', 200),
                ('Сыр чеддер', 150),
                ('Сливки 10%', 100),
                ('Зеленый лук', 20),
            ]
        },
        # КЕТО МЕНЮ - ОБЕДЫ (5 блюд)
        {
            'name': 'Стейк из говядины с спаржей',
            'description': 'Сочный стейк с обжаренной спаржей',
            'recipe': '1. Обжарить стейк до нужной прожарки. 2. Приготовить спаржу на той же сковороде. 3. Подавать с соусом.',
            'diet_type': 'keto',
            'category': 'lunch',
            'cooking_time': 20,
            'difficulty': 'medium',
            'portions': 2,
            'ingredients': [
                ('Говядина', 400),
                ('Спаржа', 200),
                ('Чеснок', 3),
                ('Сливочное масло', 30),
                ('Розмарин свежий', 10),
                ('Соль', 3),
            ]
        },
        {
            'name': 'Куриные крылышки в остром соусе',
            'description': 'Хрустящие куриные крылышки в остром соусе',
            'recipe': '1. Запечь крылышки до хрустящей корочки. 2. Обвалять в остром соусе. 3. Подавать с сельдереем.',
            'diet_type': 'keto',
            'category': 'lunch',
            'cooking_time': 45,
            'difficulty': 'easy',
            'portions': 3,
            'ingredients': [
                ('Куриные крылышки', 600),
                ('Острый соус', 100),
                ('Сливочное масло', 50),
                ('Чеснок', 4),
                ('Паприка молотая', 10),
            ]
        },
        {
            'name': 'Лосось в кунжутной корочке',
            'description': 'Лосось в хрустящей кунжутной корочке',
            'recipe': '1. Лосось обвалять в кунжуте. 2. Обжарить с двух сторон. 3. Подавать с лимоном.',
            'diet_type': 'keto',
            'category': 'lunch',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Лосось', 400),
                ('Кунжут', 50),
                ('Кокосовое масло', 20),
                ('Соевый соус', 20),
                ('Лимон', 1),
            ]
        },
        {
            'name': 'Фаршированные перцы мясом',
            'description': 'Перцы, фаршированные мясом и сыром',
            'recipe': '1. Приготовить мясную начинку. 2. Нафаршировать перцы. 3. Запекать 30 минут при 200°C.',
            'diet_type': 'keto',
            'category': 'lunch',
            'cooking_time': 45,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Сладкий перец', 4),
                ('Говяжий фарш', 500),
                ('Сыр чеддер', 200),
                ('Лук репчатый', 1),
                ('Чеснок', 3),
                ('Яйца куриные', 1),
            ]
        },
        {
            'name': 'Салат Цезарь с курицей',
            'description': 'Классический салат Цезарь с куриной грудкой',
            'recipe': '1. Приготовить курицу. 2. Сделать соус Цезарь. 3. Смешать с салатом и сыром.',
            'diet_type': 'keto',
            'category': 'lunch',
            'cooking_time': 25,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Куриная грудка', 300),
                ('Салат романо', 200),
                ('Сыр пармезан', 80),
                ('Яйца куриные', 2),
                ('Оливковое масло', 30),
                ('Чеснок', 2),
            ]
        },
        # КЕТО МЕНЮ - УЖИНЫ (5 блюд)
        {
            'name': 'Жареная утка с брокколи',
            'description': 'Утка, жареная до хрустящей кожицы, с брокколи',
            'recipe': '1. Утку обжарить кожей вниз. 2. Довести в духовке. 3. Подавать с обжаренной брокколи.',
            'diet_type': 'keto',
            'category': 'dinner',
            'cooking_time': 50,
            'difficulty': 'hard',
            'portions': 4,
            'ingredients': [
                ('Утиная грудка', 600),
                ('Брокколи', 400),
                ('Чеснок', 4),
                ('Тимьян свежий', 10),
                ('Утиный жир', 30),
            ]
        },
        {
            'name': 'Свиные отбивные с цветной капустой',
            'description': 'Сочные свиные отбивные с пюре из цветной капусты',
            'recipe': '1. Отбить мясо. 2. Обжарить. 3. Цветную капусту приготовить на пару и пюрировать со сливками.',
            'diet_type': 'keto',
            'category': 'dinner',
            'cooking_time': 35,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Свиная вырезка', 600),
                ('Цветная капуста', 600),
                ('Сливки 10%', 200),
                ('Чеснок', 3),
                ('Сливочное масло', 40),
                ('Розмарин свежий', 10),
            ]
        },
        {
            'name': 'Креветки в чесночном масле',
            'description': 'Крупные креветки, обжаренные в чесночном масле',
            'recipe': '1. Обжарить чеснок в масле. 2. Добавить креветки. 3. Готовить 5 минут. 4. Полить лимонным соком.',
            'diet_type': 'keto',
            'category': 'dinner',
            'cooking_time': 15,
            'difficulty': 'easy',
            'portions': 2,
            'ingredients': [
                ('Креветки', 400),
                ('Чеснок', 6),
                ('Сливочное масло', 50),
                ('Лимон', 1),
                ('Петрушка', 20),
                ('Перец чили', 1),
            ]
        },
        {
            'name': 'Говяжьи ребрышки',
            'description': 'Медленно тушеные говяжьи ребрышки',
            'recipe': '1. Обжарить ребрышки. 2. Тушить 2-3 часа с овощами. 3. Подавать с овощным гарниром.',
            'diet_type': 'keto',
            'category': 'dinner',
            'cooking_time': 180,
            'difficulty': 'hard',
            'portions': 4,
            'ingredients': [
                ('Говяжьи ребра', 1000),
                ('Лук репчатый', 2),
                ('Морковь', 2),
                ('Чеснок', 1),
                ('Красное вино', 200),
                ('Тимьян свежий', 15),
            ]
        },
        {
            'name': 'Жульен с грибами и курицей',
            'description': 'Грибы с курицей в сливочном соусе под сырной корочкой',
            'recipe': '1. Обжарить курицу и грибы. 2. Залить сливками. 3. Посыпать сыром и запекать 15 минут.',
            'diet_type': 'keto',
            'category': 'dinner',
            'cooking_time': 35,
            'difficulty': 'medium',
            'portions': 4,
            'ingredients': [
                ('Куриная грудка', 400),
                ('Шампиньоны', 300),
                ('Сливки 10%', 300),
                ('Сыр моцарелла', 200),
                ('Лук репчатый', 1),
                ('Чеснок', 3),
            ]
        },
        # КЕТО МЕНЮ - ДЕСЕРТЫ (5 блюд)
        {
            'name': 'Кето-чизкейк',
            'description': 'Низкоуглеводный чизкейк без сахара',
            'recipe': '1. Приготовить основу из орехов. 2. Смешать начинку. 3. Запекать 1 час при 160°C.',
            'diet_type': 'keto',
            'category': 'dessert',
            'cooking_time': 90,
            'difficulty': 'hard',
            'portions': 10,
            'ingredients': [
                ('Сыр сливочный', 600),
                ('Миндальная мука', 200),
                ('Сливки 10%', 200),
                ('Яйца куриные', 4),
                ('Стевия', 20),
                ('Ванилин', 3),
            ]
        },
        {
            'name': 'Шоколадные трюфели',
            'description': 'Домашние шоколадные трюфели без сахара',
            'recipe': '1. Растопить шоколад с маслом. 2. Сформировать шарики. 3. Обвалять в какао.',
            'diet_type': 'keto',
            'category': 'dessert',
            'cooking_time': 20,
            'difficulty': 'easy',
            'portions': 12,
            'ingredients': [
                ('Темный шоколад 70%', 300),
                ('Кокосовое масло', 100),
                ('Сливки 10%', 100),
                ('Какао-порошок', 50),
                ('Стевия', 10),
            ]
        },
        {
            'name': 'Кето-мороженое',
            'description': 'Сливочное мороженое без сахара',
            'recipe': '1. Взбить сливки с подсластителем. 2. Добавить ваниль. 3. Заморозить в мороженице.',
            'diet_type': 'keto',
            'category': 'dessert',
            'cooking_time': 15,
            'difficulty': 'medium',
            'portions': 6,
            'ingredients': [
                ('Сливки 10%', 500),
                ('Яичные желтки', 4),
                ('Стевия', 15),
                ('Ванилин', 3),
                ('Кокосовое молоко', 100),
            ]
        },
        {
            'name': 'Ореховое печенье',
            'description': 'Хрустящее печенье из ореховой муки',
            'recipe': '1. Смешать ингредиенты. 2. Сформировать печенье. 3. Выпекать 15 минут при 180°C.',
            'diet_type': 'keto',
            'category': 'dessert',
            'cooking_time': 25,
            'difficulty': 'easy',
            'portions': 8,
            'ingredients': [
                ('Миндальная мука', 200),
                ('Грецкие орехи', 100),
                ('Яйца куриные', 2),
                ('Сливочное масло', 100),
                ('Стевия', 10),
                ('Корица молотая', 5),
            ]
        },
        {
            'name': 'Кокосовые макаруны',
            'description': 'Воздушные кокосовые пирожные',
            'recipe': '1. Взбить белки. 2. Смешать с кокосом. 3. Выпекать 20 минут при 160°C.',
            'diet_type': 'keto',
            'category': 'dessert',
            'cooking_time': 35,
            'difficulty': 'medium',
            'portions': 10,
            'ingredients': [
                ('Кокосовая стружка', 200),
                ('Яичные белки', 3),
                ('Стевия', 15),
                ('Ванилин', 2),
                ('Миндальная мука', 50),
            ]
        },
    ]

    # Создаем блюда и добавляем ингредиенты
    for dish_info in dishes_data:
        dish, created = Dish.objects.get_or_create(
            name=dish_info['name'],
            defaults={
                'description': dish_info['description'],
                'recipe': dish_info['recipe'],
                'diet_type': dish_info['diet_type'],
                'category': dish_info['category'],
                'cooking_time': dish_info['cooking_time'],
                'difficulty': dish_info['difficulty'],
                'portions': dish_info['portions'],
            }
        )

        # Добавляем ингредиенты к блюду
        for ingredient_name, quantity in dish_info['ingredients']:
            if ingredient_name in ingredients:
                DishIngredient.objects.get_or_create(
                    dish=dish,
                    ingredient=ingredients[ingredient_name],
                    defaults={'quantity': quantity}
                )


def reverse_ingredients_and_dishes(apps, schema_editor):
    Ingredient = apps.get_model('planner', 'Ingredient')
    Dish = apps.get_model('planner', 'Dish')
    DishIngredient = apps.get_model('planner', 'DishIngredient')
    DishIngredient.objects.all().delete()
    Dish.objects.all().delete()
    Ingredient.objects.all().delete()


class Migration(migrations.Migration):
    dependencies = [
        ('planner', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(create_ingredients_and_dishes, reverse_ingredients_and_dishes),
    ]


class Migration(migrations.Migration):
    dependencies = [
        ('planner', '0004_alter_userprofile_avatar'),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='dishingredient',
            options={'verbose_name': 'Ингредиент блюда', 'verbose_name_plural': 'Ингредиенты блюд'},
        ),
        migrations.AlterModelOptions(
            name='ingredient',
            options={'verbose_name': 'Ингредиент', 'verbose_name_plural': 'Ингредиенты'},
        ),
        migrations.RemoveField(
            model_name='userprofile',
            name='budget_limit',
        ),
        migrations.AddField(
            model_name='dish',
            name='cooking_time',
            field=models.PositiveIntegerField(default=30, help_text='Время в минутах',
                                              verbose_name='Время приготовления (мин)'),
        ),
        migrations.AddField(
            model_name='dish',
            name='difficulty',
            field=models.CharField(choices=[('easy', 'Легко'), ('medium', 'Средне'), ('hard', 'Сложно')],
                                   default='medium', max_length=10, verbose_name='Сложность приготовления'),
        ),
        migrations.AddField(
            model_name='dish',
            name='portions',
            field=models.PositiveIntegerField(default=1, help_text='На сколько персон рассчитано блюдо',
                                              verbose_name='Количество порций'),
        ),
        migrations.AlterField(
            model_name='dish',
            name='diet_type',
            field=models.CharField(
                choices=[('classic', 'Классическое'), ('low_carb', 'Низкоуглеводное'), ('vegetarian', 'Вегетарианское'),
                         ('keto', 'Кето')], db_index=True, default='classic', verbose_name='Тип меню'),
        ),
        migrations.AlterField(
            model_name='dish',
            name='photo',
            field=models.ImageField(blank=True, null=True, upload_to=planner.models.get_dish_upload_path,
                                    verbose_name='Фото блюда'),
        ),
        migrations.AlterUniqueTogether(
            name='dishingredient',
            unique_together={('dish', 'ingredient')},
        ),
        migrations.AddIndex(
            model_name='dish',
            index=models.Index(fields=['diet_type', 'category'], name='planner_dis_diet_ty_60f6d8_idx'),
        ),
        migrations.RemoveField(
            model_name='ingredient',
            name='price',
        ),
        migrations.RunPython(create_ingredients_and_dishes, reverse_ingredients_and_dishes),
    ]
